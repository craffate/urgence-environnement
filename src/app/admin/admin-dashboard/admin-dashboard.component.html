<mat-tab-group>
  <mat-tab label="Articles">
    <table mat-table [dataSource]="articlesDataSource" class="mat-elevation-z8">
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef>ID</th>
        <td mat-cell *matCellDef="let el"> {{ el['id'] }} </td>
      </ng-container>
      <ng-container matColumnDef="sku">
        <th mat-header-cell *matHeaderCellDef>SKU</th>
        <td mat-cell *matCellDef="let el"> {{ el['sku'] }} </td>
      </ng-container>
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>Nom</th>
        <td mat-cell *matCellDef="let el"> {{ el['name'] }} </td>
      </ng-container>
      <ng-container matColumnDef="subtitle">
        <th mat-header-cell *matHeaderCellDef>Sous-titre</th>
        <td mat-cell *matCellDef="let el"> {{ el['subtitle'] }} </td>
      </ng-container>
      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef>Description</th>
        <td mat-cell *matCellDef="let el"> {{ el['description'] }} </td>
      </ng-container>
      <ng-container matColumnDef="price">
        <th mat-header-cell *matHeaderCellDef>Prix</th>
        <td mat-cell *matCellDef="let el"> {{ el['price'] | currency }} </td>
      </ng-container>
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef>Actions</th>
        <td mat-cell *matCellDef="let el">
          <button mat-flat-button (click)="editArticle(el)" color="primary" type="button">
            <mat-icon>edit</mat-icon>
            Éditer
          </button>
          <button mat-flat-button (click)="deleteArticle(el)" color="warn" type="button">
            <mat-icon>delete</mat-icon>
            Supprimer
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="['id', 'sku', 'name', 'subtitle', 'description', 'price', 'actions']"></tr>
      <tr mat-row *matRowDef="let row; columns: ['id', 'sku', 'name', 'subtitle', 'description', 'price', 'actions']">
      </tr>
    </table>
    <mat-paginator color="primary" [pageSizeOptions]="[5, 10, 25, 50, 100]" showFirstLastButtons>
    </mat-paginator>
    <button mat-raised-button (click)="addArticle()" color="primary" type="button">
      <mat-icon>add</mat-icon>
      Créer un nouvel article
    </button>
  </mat-tab>
  <mat-tab label="Commandes">
    <table mat-table [dataSource]="ordersDataSource" class="mat-elevation-z8" multiTemplateDataRows>
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef>ID</th>
        <td mat-cell *matCellDef="let el"> {{ el['id']}}</td>
      </ng-container>
      <ng-container matColumnDef="total">
        <th mat-header-cell *matHeaderCellDef>Total</th>
        <td mat-cell *matCellDef="let el"> {{ el['total'] | currency }}</td>
      </ng-container>
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef>Statut</th>
        <td mat-cell *matCellDef="let el"> {{ el['status']}} </td>
      </ng-container>
      <ng-container matColumnDef="created_at">
        <th mat-header-cell *matHeaderCellDef>Date de création</th>
        <td mat-cell *matCellDef="let el"> {{ el['created_at'] | date }}</td>
      </ng-container>
      <ng-container matColumnDef="updated_at">
        <th mat-header-cell *matHeaderCellDef>Date de mise à jour</th>
        <td mat-cell *matCellDef="let el"> {{ el['updated_at'] | date }}</td>
      </ng-container>
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef>Actions</th>
        <td mat-cell *matCellDef="let el">
          <button mat-flat-button (click)="deleteOrder(el)" color="warn" type="button">
            <mat-icon>delete</mat-icon>
            Supprimer
          </button>
        </td>
      </ng-container>
      <ng-container matColumnDef="expandedDetail">
        <td mat-cell *matCellDef="let el" [attr.colspan]="6">
          <div class="order-detail" [@detailExpand]="el === expandedOrderElement ? 'expanded' : 'collapsed'">
            <div>
              <h2>Informations de facturation</h2>
              <p>
                {{ el['Payer']['name'] }}<br>
                {{ el['Payer']['address'] }}<br>
                {{ el['Payer']['email'] }}<br>
                {{ el['Payer']['phone'] }}
              </p>
            </div>
            <div>
              <h2>Informations de livraison</h2>
              <p>
                {{ el['shipping_name'] }}<br>
                {{ el['shipping_address'] }}
              </p>
            </div>
          </div>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="['id', 'total', 'status', 'created_at', 'updated_at',  'actions']"></tr>
      <tr mat-row *matRowDef="let row; columns: ['id', 'total', 'status', 'created_at', 'updated_at',  'actions']"
        class="order-row"
        [class.expanded-row]="expandedOrderElement === row"
        (click)="expandedOrderElement = expandedOrderElement === row ? null : row"></tr>
      <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="detail-row"></tr>
    </table>
    <mat-paginator color="primary" [pageSizeOptions]="[5, 10, 25, 50, 100]" showFirstLastButtons>
    </mat-paginator>
  </mat-tab>
  <mat-tab label="Utilisateurs">
    <table mat-table [dataSource]="usersDataSource" class="mat-elevation-z8">
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef>ID</th>
        <td mat-cell *matCellDef="let el"> {{ el['id'] }}</td>
      </ng-container>
      <ng-container matColumnDef="username">
        <th mat-header-cell *matHeaderCellDef>Nom d'utilisateur</th>
        <td mat-cell *matCellDef="let el"> {{ el['username'] }}</td>
      </ng-container>
      <ng-container matColumnDef="role">
        <th mat-header-cell *matHeaderCellDef>Rôle</th>
        <td mat-cell *matCellDef="let el"> {{ el['role'] }}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="['id', 'username', 'role']"></tr>
      <tr mat-row *matRowDef="let row; columns: ['id', 'username', 'role']"></tr>
    </table>
    <mat-paginator color="primary" [pageSizeOptions]="[5, 10, 25, 50, 100]" showFirstLastButtons>
    </mat-paginator>
  </mat-tab>
</mat-tab-group>