<div>
  <input #fileInput hidden (change)="fileChosen($event)" type="file" multiple>
  <button mat-stroked-button type="button" color="primary" (click)="fileInput.click()" [disabled]="progress > 0">
    <mat-icon *ngIf="progress === 0; else uploading">collections</mat-icon>IMPORTER
  </button>
</div>

<ng-template #uploading>
  <mat-icon><mat-progress-spinner diameter="24" mode="determinate" [value]="progress"></mat-progress-spinner></mat-icon>
</ng-template>